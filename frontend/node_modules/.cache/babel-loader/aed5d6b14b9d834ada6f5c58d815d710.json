{"ast":null,"code":"import _slicedToArray from \"/Users/niruhan/MSc/source_code/new/lang-exchange-lk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/niruhan/MSc/source_code/new/lang-exchange-lk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/niruhan/MSc/source_code/new/lang-exchange-lk/frontend/src/pages/Profile/ProfileInfo.js\";\n\nfunction _templateObject8() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 0 \", \";\\n  color: \", \";\\n  white-space: nowrap;\\n\\n  @media (min-width: \", \") {\\n    padding: 0 \", \";\\n  }\\n\"]);\n\n  _templateObject8 = function _templateObject8() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject7() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  justify-content: center;\\n  font-size: \", \";\\n  margin-top: \", \";\\n\"]);\n\n  _templateObject7 = function _templateObject7() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject6() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 8px;\\n  height: 8px;\\n  background-color: \", \";\\n  margin-left: \", \";\\n  border-radius: 50%;\\n\"]);\n\n  _templateObject6 = function _templateObject6() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  text-decoration: none;\\n  font-size: \", \";\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  margin-left: \", \";\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: row;\\n  align-items: center;\\n  margin-top: \", \";\\n  position: relative;\\n\\n  \", \" {\\n    font-size: \", \";\\n  }\\n\\n  @media (min-width: \", \") {\\n    \", \" {\\n      font-size: \", \";\\n    }\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  margin-top: -140px;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { Link, generatePath } from 'react-router-dom';\nimport { useSubscription } from '@apollo/react-hooks';\nimport { IS_USER_ONLINE_SUBSCRIPTION } from 'graphql/user';\nimport { H1 } from 'components/Text';\nimport { Spacing } from 'components/Layout';\nimport Follow from 'components/Follow';\nimport ProfileImageUpload from './ProfileImageUpload';\nimport ProfileCoverUpload from './ProfileCoverUpload';\nimport { useStore } from 'store';\nimport * as Routes from 'routes';\nvar Root = styled.div(_templateObject());\nvar ProfileImage = styled.div(_templateObject2());\nvar FullName = styled.div(_templateObject3(), function (p) {\n  return p.theme.spacing.sm;\n}, H1, function (p) {\n  return p.theme.font.size.lg;\n}, function (p) {\n  return p.theme.screen.md;\n}, H1, function (p) {\n  return p.theme.font.size.xl;\n});\nvar FollowAndMessage = styled.div(_templateObject4(), function (p) {\n  return p.theme.spacing.sm;\n});\nvar Message = styled(Link)(_templateObject5(), function (p) {\n  return p.theme.font.size.xs;\n});\nvar Online = styled.div(_templateObject6(), function (p) {\n  return p.theme.colors.success;\n}, function (p) {\n  return p.theme.spacing.sm;\n});\nvar Info = styled.div(_templateObject7(), function (p) {\n  return p.theme.font.size.xs;\n}, function (p) {\n  return p.theme.spacing.sm;\n});\nvar List = styled.div(_templateObject8(), function (p) {\n  return p.theme.spacing.xs;\n}, function (p) {\n  return p.theme.colors.grey[800];\n}, function (p) {\n  return p.theme.screen.md;\n}, function (p) {\n  return p.theme.spacing.lg;\n});\n/**\n * Renders user information in profile page\n */\n\nvar ProfileInfo = function ProfileInfo(_ref) {\n  var user = _ref.user;\n\n  var _useStore = useStore(),\n      _useStore2 = _slicedToArray(_useStore, 1),\n      auth = _useStore2[0].auth;\n\n  var _useSubscription = useSubscription(IS_USER_ONLINE_SUBSCRIPTION, {\n    variables: {\n      authUserId: auth.user.id,\n      userId: user.id\n    }\n  }),\n      data = _useSubscription.data,\n      loading = _useSubscription.loading;\n\n  var isUserOnline = user.isOnline;\n\n  if (!loading && data) {\n    isUserOnline = data.isUserOnline.isOnline;\n  }\n\n  return React.createElement(Root, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 104\n    },\n    __self: this\n  }, React.createElement(ProfileCoverUpload, {\n    userId: user.id,\n    coverImage: user.coverImage,\n    coverImagePublicId: user.coverImagePublicId,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105\n    },\n    __self: this\n  }), React.createElement(ProfileImage, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111\n    },\n    __self: this\n  }, React.createElement(ProfileImageUpload, {\n    userId: user.id,\n    image: user.image,\n    imagePublicId: user.imagePublicId,\n    username: user.username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112\n    },\n    __self: this\n  }), React.createElement(FullName, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, React.createElement(H1, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, user.fullName), isUserOnline && auth.user.id !== user.id && React.createElement(Online, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122\n    },\n    __self: this\n  }), auth.user.id !== user.id && React.createElement(FollowAndMessage, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125\n    },\n    __self: this\n  }, React.createElement(Follow, {\n    user: user,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }), React.createElement(Spacing, {\n    left: \"sm\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }), React.createElement(Message, {\n    to: generatePath(Routes.MESSAGES, {\n      userId: user.id\n    }),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  }, \"Message\")))), React.createElement(Info, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  }, React.createElement(List, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139\n    },\n    __self: this\n  }, user.posts.length, \" \"), \" posts\"), React.createElement(List, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  }, user.followers.length, \" \"), \" followers\"), React.createElement(List, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144\n    },\n    __self: this\n  }, React.createElement(\"b\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, user.following.length, \" \"), \" following\")));\n};\n\nProfileInfo.propTypes = {\n  user: PropTypes.object.isRequired\n};\nexport default ProfileInfo;","map":{"version":3,"sources":["/Users/niruhan/MSc/source_code/new/lang-exchange-lk/frontend/src/pages/Profile/ProfileInfo.js"],"names":["React","PropTypes","styled","Link","generatePath","useSubscription","IS_USER_ONLINE_SUBSCRIPTION","H1","Spacing","Follow","ProfileImageUpload","ProfileCoverUpload","useStore","Routes","Root","div","ProfileImage","FullName","p","theme","spacing","sm","font","size","lg","screen","md","xl","FollowAndMessage","Message","xs","Online","colors","success","Info","List","grey","ProfileInfo","user","auth","variables","authUserId","id","userId","data","loading","isUserOnline","isOnline","coverImage","coverImagePublicId","image","imagePublicId","username","fullName","MESSAGES","posts","length","followers","following","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { Link, generatePath } from 'react-router-dom';\nimport { useSubscription } from '@apollo/react-hooks';\n\nimport { IS_USER_ONLINE_SUBSCRIPTION } from 'graphql/user';\n\nimport { H1 } from 'components/Text';\nimport { Spacing } from 'components/Layout';\nimport Follow from 'components/Follow';\nimport ProfileImageUpload from './ProfileImageUpload';\nimport ProfileCoverUpload from './ProfileCoverUpload';\n\nimport { useStore } from 'store';\n\nimport * as Routes from 'routes';\n\nconst Root = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n`;\n\nconst ProfileImage = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  margin-top: -140px;\n`;\n\nconst FullName = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-top: ${p => p.theme.spacing.sm};\n  position: relative;\n\n  ${H1} {\n    font-size: ${p => p.theme.font.size.lg};\n  }\n\n  @media (min-width: ${p => p.theme.screen.md}) {\n    ${H1} {\n      font-size: ${p => p.theme.font.size.xl};\n    }\n  }\n`;\n\nconst FollowAndMessage = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  margin-left: ${p => p.theme.spacing.sm};\n`;\n\nconst Message = styled(Link)`\n  text-decoration: none;\n  font-size: ${p => p.theme.font.size.xs};\n`;\n\nconst Online = styled.div`\n  width: 8px;\n  height: 8px;\n  background-color: ${p => p.theme.colors.success};\n  margin-left: ${p => p.theme.spacing.sm};\n  border-radius: 50%;\n`;\n\nconst Info = styled.div`\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  font-size: ${p => p.theme.font.size.xs};\n  margin-top: ${p => p.theme.spacing.sm};\n`;\n\nconst List = styled.div`\n  padding: 0 ${p => p.theme.spacing.xs};\n  color: ${p => p.theme.colors.grey[800]};\n  white-space: nowrap;\n\n  @media (min-width: ${p => p.theme.screen.md}) {\n    padding: 0 ${p => p.theme.spacing.lg};\n  }\n`;\n\n/**\n * Renders user information in profile page\n */\nconst ProfileInfo = ({ user }) => {\n  const [{ auth }] = useStore();\n\n  const { data, loading } = useSubscription(IS_USER_ONLINE_SUBSCRIPTION, {\n    variables: { authUserId: auth.user.id, userId: user.id },\n  });\n\n  let isUserOnline = user.isOnline;\n  if (!loading && data) {\n    isUserOnline = data.isUserOnline.isOnline;\n  }\n\n  return (\n    <Root>\n      <ProfileCoverUpload\n        userId={user.id}\n        coverImage={user.coverImage}\n        coverImagePublicId={user.coverImagePublicId}\n      />\n\n      <ProfileImage>\n        <ProfileImageUpload\n          userId={user.id}\n          image={user.image}\n          imagePublicId={user.imagePublicId}\n          username={user.username}\n        />\n\n        <FullName>\n          <H1>{user.fullName}</H1>\n\n          {isUserOnline && auth.user.id !== user.id && <Online />}\n\n          {auth.user.id !== user.id && (\n            <FollowAndMessage>\n              <Follow user={user} />\n\n              <Spacing left=\"sm\" />\n              <Message to={generatePath(Routes.MESSAGES, { userId: user.id })}>\n                Message\n              </Message>\n            </FollowAndMessage>\n          )}\n        </FullName>\n      </ProfileImage>\n\n      <Info>\n        <List>\n          <b>{user.posts.length} </b> posts\n        </List>\n        <List>\n          <b>{user.followers.length} </b> followers\n        </List>\n        <List>\n          <b>{user.following.length} </b> following\n        </List>\n      </Info>\n    </Root>\n  );\n};\n\nProfileInfo.propTypes = {\n  user: PropTypes.object.isRequired,\n};\n\nexport default ProfileInfo;\n"]},"metadata":{},"sourceType":"module"}