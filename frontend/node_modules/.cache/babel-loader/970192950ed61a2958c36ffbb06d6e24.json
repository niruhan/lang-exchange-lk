{"ast":null,"code":"import _slicedToArray from \"/Users/niruhan/MSc/source_code/new/lang-exchange-lk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/niruhan/MSc/source_code/new/lang-exchange-lk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/niruhan/MSc/source_code/new/lang-exchange-lk/frontend/src/pages/Profile/Profile.js\";\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  width: 100%;\\n\\n  @media (min-width: \", \") {\\n    margin-left: \", \";\\n    padding: 0;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { Query } from 'react-apollo';\nimport styled from 'styled-components';\nimport Skeleton from 'components/Skeleton';\nimport { Container, Spacing } from 'components/Layout';\nimport ProfileInfo from './ProfileInfo';\nimport CreatePost from 'components/CreatePost';\nimport ProfilePosts from './ProfilePosts';\nimport NotFound from 'components/NotFound';\nimport Head from 'components/Head';\nimport { GET_USER } from 'graphql/user';\nimport { useStore } from 'store';\nvar Root = styled.div(_templateObject(), function (p) {\n  return p.theme.screen.lg;\n}, function (p) {\n  return p.theme.spacing.lg;\n});\n/**\n * User Profile Page\n */\n\nvar Profile = function Profile(_ref) {\n  var match = _ref.match;\n\n  var _useStore = useStore(),\n      _useStore2 = _slicedToArray(_useStore, 1),\n      auth = _useStore2[0].auth;\n\n  var username = match.params.username;\n  return React.createElement(Root, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36\n    },\n    __self: this\n  }, React.createElement(Head, {\n    title: username,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }), React.createElement(Query, {\n    query: GET_USER,\n    variables: {\n      username: username\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39\n    },\n    __self: this\n  }, function (_ref2) {\n    var data = _ref2.data,\n        loading = _ref2.loading,\n        error = _ref2.error;\n\n    if (loading) {\n      return React.createElement(Container, {\n        padding: \"xxs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43\n        },\n        __self: this\n      }, React.createElement(Skeleton, {\n        height: 350,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }), React.createElement(Container, {\n        maxWidth: \"sm\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(Spacing, {\n        top: \"lg\",\n        bottom: \"lg\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, React.createElement(Skeleton, {\n        height: 82,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 47\n        },\n        __self: this\n      }))));\n    }\n\n    if (error || !data.getUser) return React.createElement(NotFound, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    });\n    return React.createElement(Container, {\n      padding: \"xxs\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }, React.createElement(ProfileInfo, {\n      user: data.getUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }), React.createElement(Container, {\n      maxWidth: \"sm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 60\n      },\n      __self: this\n    }, React.createElement(Spacing, {\n      top: \"lg\",\n      bottom: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 61\n      },\n      __self: this\n    }, username === auth.user.username && React.createElement(CreatePost, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 62\n      },\n      __self: this\n    })), React.createElement(ProfilePosts, {\n      username: username,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65\n      },\n      __self: this\n    })));\n  }));\n};\n\nProfile.propTypes = {\n  match: PropTypes.object.isRequired\n};\nexport default withRouter(Profile);","map":{"version":3,"sources":["/Users/niruhan/MSc/source_code/new/lang-exchange-lk/frontend/src/pages/Profile/Profile.js"],"names":["React","PropTypes","withRouter","Query","styled","Skeleton","Container","Spacing","ProfileInfo","CreatePost","ProfilePosts","NotFound","Head","GET_USER","useStore","Root","div","p","theme","screen","lg","spacing","Profile","match","auth","username","params","data","loading","error","getUser","user","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { withRouter } from 'react-router-dom';\nimport { Query } from 'react-apollo';\nimport styled from 'styled-components';\n\nimport Skeleton from 'components/Skeleton';\nimport { Container, Spacing } from 'components/Layout';\nimport ProfileInfo from './ProfileInfo';\nimport CreatePost from 'components/CreatePost';\nimport ProfilePosts from './ProfilePosts';\nimport NotFound from 'components/NotFound';\nimport Head from 'components/Head';\n\nimport { GET_USER } from 'graphql/user';\n\nimport { useStore } from 'store';\n\nconst Root = styled.div`\n  width: 100%;\n\n  @media (min-width: ${p => p.theme.screen.lg}) {\n    margin-left: ${p => p.theme.spacing.lg};\n    padding: 0;\n  }\n`;\n\n/**\n * User Profile Page\n */\nconst Profile = ({ match }) => {\n  const [{ auth }] = useStore();\n  const { username } = match.params;\n\n  return (\n    <Root>\n      <Head title={username} />\n\n      <Query query={GET_USER} variables={{ username }}>\n        {({ data, loading, error }) => {\n          if (loading) {\n            return (\n              <Container padding=\"xxs\">\n                <Skeleton height={350} />\n                <Container maxWidth=\"sm\">\n                  <Spacing top=\"lg\" bottom=\"lg\">\n                    <Skeleton height={82} />\n                  </Spacing>\n                </Container>\n              </Container>\n            );\n          }\n\n          if (error || !data.getUser) return <NotFound />;\n\n          return (\n            <Container padding=\"xxs\">\n              <ProfileInfo user={data.getUser} />\n\n              <Container maxWidth=\"sm\">\n                <Spacing top=\"lg\" bottom=\"lg\">\n                  {username === auth.user.username && <CreatePost />}\n                </Spacing>\n\n                <ProfilePosts username={username} />\n              </Container>\n            </Container>\n          );\n        }}\n      </Query>\n    </Root>\n  );\n};\n\nProfile.propTypes = {\n  match: PropTypes.object.isRequired,\n};\n\nexport default withRouter(Profile);\n"]},"metadata":{},"sourceType":"module"}