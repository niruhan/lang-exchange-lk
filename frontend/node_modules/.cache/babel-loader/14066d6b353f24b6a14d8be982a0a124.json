{"ast":null,"code":"import _slicedToArray from \"/Users/niruhan/MSc/source_code/new/lang-exchange-lk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/niruhan/MSc/source_code/new/lang-exchange-lk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/niruhan/MSc/source_code/new/lang-exchange-lk/frontend/src/components/App/UserSuggestions.js\";\n\nfunction _templateObject5() {\n  var data = _taggedTemplateLiteral([\"\\n  color: \", \";\\n\"]);\n\n  _templateObject5 = function _templateObject5() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject4() {\n  var data = _taggedTemplateLiteral([\"\\n  font-weight: \", \";\\n  color: \", \";\\n\"]);\n\n  _templateObject4 = function _templateObject4() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  list-style-type: none;\\n  display: flex;\\n  flex-direction: row;\\n  margin-bottom: \", \";\\n\\n  &:last-child {\\n    margin-bottom: 0;\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: 0;\\n  padding-top: \", \";\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: none;\\n  background-color: \", \";\\n  border: 1px solid \", \";\\n  position: sticky;\\n  top: \", \"px;\\n  right: 0;\\n  height: 100%;\\n  width: \", \"px;\\n  padding: \", \";\\n  border-radius: \", \";\\n\\n  @media (min-width: \", \") {\\n    display: block;\\n  }\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { matchPath } from 'react-router';\nimport { generatePath } from 'react-router-dom';\nimport { Query } from 'react-apollo';\nimport { Loading } from 'components/Loading';\nimport { H3, A } from 'components/Text';\nimport { Spacing } from 'components/Layout';\nimport Avatar from 'components/Avatar';\nimport { useStore } from 'store';\nimport { USER_SUGGESTIONS } from 'graphql/user';\nimport { USER_SUGGESTIONS_WIDTH, HEADER_HEIGHT } from 'constants/Layout';\nimport * as Routes from 'routes';\nvar Root = styled.div(_templateObject(), function (p) {\n  return p.theme.colors.white;\n}, function (p) {\n  return p.theme.colors.border.main;\n}, HEADER_HEIGHT + 40, USER_SUGGESTIONS_WIDTH, function (p) {\n  return p.theme.spacing.sm;\n}, function (p) {\n  return p.theme.radius.sm;\n}, function (p) {\n  return p.theme.screen.md;\n});\nvar List = styled.ul(_templateObject2(), function (p) {\n  return p.theme.spacing.xs;\n});\nvar ListItem = styled.li(_templateObject3(), function (p) {\n  return p.theme.spacing.sm;\n});\nvar FullName = styled.div(_templateObject4(), function (p) {\n  return p.theme.font.weight.bold;\n}, function (p) {\n  return p.active ? p.theme.colors.primary.main : p.theme.colors.text.primary;\n});\nvar UserName = styled.div(_templateObject5(), function (p) {\n  return p.theme.colors.text.hint;\n});\n/**\n * Displays user suggestions\n */\n\nvar UserSuggestions = function UserSuggestions(_ref) {\n  var pathname = _ref.pathname;\n\n  var _useStore = useStore(),\n      _useStore2 = _slicedToArray(_useStore, 1),\n      auth = _useStore2[0].auth;\n\n  var hideUserSuggestions = matchPath(pathname, {\n    path: [Routes.MESSAGES, Routes.PEOPLE, Routes.EXPLORE, Routes.USER_PROFILE]\n  });\n  if (hideUserSuggestions) return null;\n  return React.createElement(Query, {\n    query: USER_SUGGESTIONS,\n    variables: {\n      userId: auth.user.id\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, function (_ref2) {\n    var data = _ref2.data,\n        loading = _ref2.loading;\n    if (loading) return React.createElement(Root, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }, React.createElement(Loading, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }));\n\n    if (!data.suggestPeople.length > 0) {\n      return null;\n    }\n\n    return React.createElement(Root, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(H3, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Suggestions For You\"), React.createElement(List, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94\n      },\n      __self: this\n    }, data.suggestPeople.map(function (user) {\n      return React.createElement(ListItem, {\n        key: user.id,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, React.createElement(A, {\n        to: generatePath(Routes.USER_PROFILE, {\n          username: user.username\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 97\n        },\n        __self: this\n      }, React.createElement(Avatar, {\n        image: user.image,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 102\n        },\n        __self: this\n      })), React.createElement(Spacing, {\n        left: \"xs\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, React.createElement(A, {\n        to: generatePath(Routes.USER_PROFILE, {\n          username: user.username\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 106\n        },\n        __self: this\n      }, React.createElement(FullName, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, user.fullName), React.createElement(UserName, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"@\", user.username))));\n    })));\n  });\n};\n\nUserSuggestions.propTypes = {\n  pathname: PropTypes.string.isRequired\n};\nexport default UserSuggestions;","map":{"version":3,"sources":["/Users/niruhan/MSc/source_code/new/lang-exchange-lk/frontend/src/components/App/UserSuggestions.js"],"names":["React","PropTypes","styled","matchPath","generatePath","Query","Loading","H3","A","Spacing","Avatar","useStore","USER_SUGGESTIONS","USER_SUGGESTIONS_WIDTH","HEADER_HEIGHT","Routes","Root","div","p","theme","colors","white","border","main","spacing","sm","radius","screen","md","List","ul","xs","ListItem","li","FullName","font","weight","bold","active","primary","text","UserName","hint","UserSuggestions","pathname","auth","hideUserSuggestions","path","MESSAGES","PEOPLE","EXPLORE","USER_PROFILE","userId","user","id","data","loading","suggestPeople","length","map","username","image","fullName","propTypes","string","isRequired"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\nimport { matchPath } from 'react-router';\nimport { generatePath } from 'react-router-dom';\nimport { Query } from 'react-apollo';\n\nimport { Loading } from 'components/Loading';\nimport { H3, A } from 'components/Text';\nimport { Spacing } from 'components/Layout';\nimport Avatar from 'components/Avatar';\n\nimport { useStore } from 'store';\n\nimport { USER_SUGGESTIONS } from 'graphql/user';\n\nimport { USER_SUGGESTIONS_WIDTH, HEADER_HEIGHT } from 'constants/Layout';\n\nimport * as Routes from 'routes';\n\nconst Root = styled.div`\n  display: none;\n  background-color: ${p => p.theme.colors.white};\n  border: 1px solid ${p => p.theme.colors.border.main};\n  position: sticky;\n  top: ${HEADER_HEIGHT + 40}px;\n  right: 0;\n  height: 100%;\n  width: ${USER_SUGGESTIONS_WIDTH}px;\n  padding: ${p => p.theme.spacing.sm};\n  border-radius: ${p => p.theme.radius.sm};\n\n  @media (min-width: ${p => p.theme.screen.md}) {\n    display: block;\n  }\n`;\n\nconst List = styled.ul`\n  padding: 0;\n  padding-top: ${p => p.theme.spacing.xs};\n`;\n\nconst ListItem = styled.li`\n  list-style-type: none;\n  display: flex;\n  flex-direction: row;\n  margin-bottom: ${p => p.theme.spacing.sm};\n\n  &:last-child {\n    margin-bottom: 0;\n  }\n`;\n\nconst FullName = styled.div`\n  font-weight: ${p => p.theme.font.weight.bold};\n  color: ${p =>\n    p.active ? p.theme.colors.primary.main : p.theme.colors.text.primary};\n`;\n\nconst UserName = styled.div`\n  color: ${p => p.theme.colors.text.hint};\n`;\n\n/**\n * Displays user suggestions\n */\nconst UserSuggestions = ({ pathname }) => {\n  const [{ auth }] = useStore();\n\n  const hideUserSuggestions = matchPath(pathname, {\n    path: [Routes.MESSAGES, Routes.PEOPLE, Routes.EXPLORE, Routes.USER_PROFILE],\n  });\n\n  if (hideUserSuggestions) return null;\n\n  return (\n    <Query query={USER_SUGGESTIONS} variables={{ userId: auth.user.id }}>\n      {({ data, loading }) => {\n        if (loading)\n          return (\n            <Root>\n              <Loading />\n            </Root>\n          );\n\n        if (!data.suggestPeople.length > 0) {\n          return null;\n        }\n\n        return (\n          <Root>\n            <H3>Suggestions For You</H3>\n\n            <List>\n              {data.suggestPeople.map(user => (\n                <ListItem key={user.id}>\n                  <A\n                    to={generatePath(Routes.USER_PROFILE, {\n                      username: user.username,\n                    })}\n                  >\n                    <Avatar image={user.image} />\n                  </A>\n\n                  <Spacing left=\"xs\">\n                    <A\n                      to={generatePath(Routes.USER_PROFILE, {\n                        username: user.username,\n                      })}\n                    >\n                      <FullName>{user.fullName}</FullName>\n                      <UserName>@{user.username}</UserName>\n                    </A>\n                  </Spacing>\n                </ListItem>\n              ))}\n            </List>\n          </Root>\n        );\n      }}\n    </Query>\n  );\n};\n\nUserSuggestions.propTypes = {\n  pathname: PropTypes.string.isRequired,\n};\n\nexport default UserSuggestions;\n"]},"metadata":{},"sourceType":"module"}