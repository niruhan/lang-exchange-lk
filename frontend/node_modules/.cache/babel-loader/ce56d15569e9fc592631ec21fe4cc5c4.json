{"ast":null,"code":"import _slicedToArray from \"/Users/niruhan/MSc/source_code/new/lang-exchange-lk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"/Users/niruhan/MSc/source_code/new/lang-exchange-lk/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/niruhan/MSc/source_code/new/lang-exchange-lk/frontend/src/components/PostCard/PostCardOption.js\";\n\nfunction _templateObject3() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: \", \" 0;\\n  text-align: center;\\n  border-top: 1px solid \", \" !important;\\n\\n  &:first-child {\\n    border-top: 0 !important ;\\n  }\\n\\n  &:hover {\\n    background-color: \", \";\\n    color: \", \";\\n  }\\n\"]);\n\n  _templateObject3 = function _templateObject3() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject2() {\n  var data = _taggedTemplateLiteral([\"\\n  padding: \", \" 0;\\n  text-align: center;\\n\"]);\n\n  _templateObject2 = function _templateObject2() {\n    return data;\n  };\n\n  return data;\n}\n\nfunction _templateObject() {\n  var data = _taggedTemplateLiteral([\"\\n  display: flex;\\n  flex-direction: column;\\n  width: 400px;\\n  background-color: \", \";\\n  border-radius: \", \";\\n  z-index: \", \";\\n  box-shadow: \", \";\\n\"]);\n\n  _templateObject = function _templateObject() {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { generatePath } from 'react-router-dom';\nimport styled from 'styled-components';\nimport { Button } from 'components/Form';\nimport Follow from 'components/Follow';\nimport { useStore } from 'store';\nimport * as Routes from 'routes';\nvar Root = styled.div(_templateObject(), function (p) {\n  return p.theme.colors.white;\n}, function (p) {\n  return p.theme.radius.sm;\n}, function (p) {\n  return p.theme.zIndex.lg;\n}, function (p) {\n  return p.theme.shadows.xl;\n});\nvar FollowItem = styled.div(_templateObject2(), function (p) {\n  return p.theme.spacing.sm;\n});\nvar StyledButton = styled(Button)(_templateObject3(), function (p) {\n  return p.theme.spacing.sm;\n}, function (p) {\n  return p.theme.colors.border.main;\n}, function (p) {\n  return p.theme.colors.grey[100];\n}, function (p) {\n  return p.theme.colors.text.primary;\n});\n/**\n * Post Card options, meant to be used in PostCard components Modal\n */\n\nvar PostCardOption = function PostCardOption(_ref) {\n  var postId = _ref.postId,\n      author = _ref.author,\n      closeOption = _ref.closeOption,\n      deletePost = _ref.deletePost;\n\n  var _useStore = useStore(),\n      _useStore2 = _slicedToArray(_useStore, 1),\n      auth = _useStore2[0].auth;\n\n  var copyToClipboard = function copyToClipboard() {\n    try {\n      navigator.clipboard.writeText(\"\".concat(process.env.REACT_APP_FRONTEND_URL).concat(generatePath(Routes.POST, {\n        id: postId\n      })));\n    } catch (error) {\n      console.error('Failed to read clipboard contents: ', error);\n    }\n\n    closeOption();\n  };\n\n  return React.createElement(Root, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  }, auth.user.id !== author.id && React.createElement(FollowItem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    },\n    __self: this\n  }, React.createElement(Follow, {\n    user: author,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  })), React.createElement(StyledButton, {\n    fullWidth: true,\n    text: true,\n    onClick: copyToClipboard,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }, \"Copy link\"), auth.user.id === author.id && React.createElement(StyledButton, {\n    fullWidth: true,\n    text: true,\n    onClick: deletePost,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76\n    },\n    __self: this\n  }, \"Delete post\"), React.createElement(StyledButton, {\n    fullWidth: true,\n    onClick: closeOption,\n    text: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81\n    },\n    __self: this\n  }, \"Cancel\"));\n};\n\nPostCardOption.propTypes = {\n  postId: PropTypes.string.isRequired,\n  author: PropTypes.object.isRequired,\n  closeOption: PropTypes.func.isRequired,\n  deletePost: PropTypes.func.isRequired\n};\nexport default PostCardOption;","map":{"version":3,"sources":["/Users/niruhan/MSc/source_code/new/lang-exchange-lk/frontend/src/components/PostCard/PostCardOption.js"],"names":["React","PropTypes","generatePath","styled","Button","Follow","useStore","Routes","Root","div","p","theme","colors","white","radius","sm","zIndex","lg","shadows","xl","FollowItem","spacing","StyledButton","border","main","grey","text","primary","PostCardOption","postId","author","closeOption","deletePost","auth","copyToClipboard","navigator","clipboard","writeText","process","env","REACT_APP_FRONTEND_URL","POST","id","error","console","user","propTypes","string","isRequired","object","func"],"mappings":"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","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { generatePath } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { Button } from 'components/Form';\nimport Follow from 'components/Follow';\n\nimport { useStore } from 'store';\n\nimport * as Routes from 'routes';\n\nconst Root = styled.div`\n  display: flex;\n  flex-direction: column;\n  width: 400px;\n  background-color: ${p => p.theme.colors.white};\n  border-radius: ${p => p.theme.radius.sm};\n  z-index: ${p => p.theme.zIndex.lg};\n  box-shadow: ${p => p.theme.shadows.xl};\n`;\n\nconst FollowItem = styled.div`\n  padding: ${p => p.theme.spacing.sm} 0;\n  text-align: center;\n`;\n\nconst StyledButton = styled(Button)`\n  padding: ${p => p.theme.spacing.sm} 0;\n  text-align: center;\n  border-top: 1px solid ${p => p.theme.colors.border.main} !important;\n\n  &:first-child {\n    border-top: 0 !important ;\n  }\n\n  &:hover {\n    background-color: ${p => p.theme.colors.grey[100]};\n    color: ${p => p.theme.colors.text.primary};\n  }\n`;\n\n/**\n * Post Card options, meant to be used in PostCard components Modal\n */\nconst PostCardOption = ({ postId, author, closeOption, deletePost }) => {\n  const [{ auth }] = useStore();\n\n  const copyToClipboard = () => {\n    try {\n      navigator.clipboard.writeText(\n        `${process.env.REACT_APP_FRONTEND_URL}${generatePath(Routes.POST, {\n          id: postId,\n        })}`\n      );\n    } catch (error) {\n      console.error('Failed to read clipboard contents: ', error);\n    }\n\n    closeOption();\n  };\n\n  return (\n    <Root>\n      {auth.user.id !== author.id && (\n        <FollowItem>\n          <Follow user={author} />\n        </FollowItem>\n      )}\n\n      <StyledButton fullWidth text onClick={copyToClipboard}>\n        Copy link\n      </StyledButton>\n\n      {auth.user.id === author.id && (\n        <StyledButton fullWidth text onClick={deletePost}>\n          Delete post\n        </StyledButton>\n      )}\n\n      <StyledButton fullWidth onClick={closeOption} text>\n        Cancel\n      </StyledButton>\n    </Root>\n  );\n};\n\nPostCardOption.propTypes = {\n  postId: PropTypes.string.isRequired,\n  author: PropTypes.object.isRequired,\n  closeOption: PropTypes.func.isRequired,\n  deletePost: PropTypes.func.isRequired,\n};\n\nexport default PostCardOption;\n"]},"metadata":{},"sourceType":"module"}